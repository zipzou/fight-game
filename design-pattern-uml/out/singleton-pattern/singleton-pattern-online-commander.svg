<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="248px" preserveAspectRatio="none" style="width:504px;height:248px;" version="1.1" viewBox="0 0 504 248" width="504px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ulr5k438ol0d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class OnlineCommander--><rect fill="#FEFECE" filter="url(#f1ulr5k438ol0d)" height="112.7754" id="OnlineCommander" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="63.5" y="8"/><ellipse cx="141.75" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M144.2231,30.1431 Q143.6421,30.4419 143.0029,30.5913 Q142.3638,30.7407 141.6582,30.7407 Q139.1514,30.7407 137.8315,29.0889 Q136.5117,27.437 136.5117,24.3159 Q136.5117,21.1865 137.8315,19.5347 Q139.1514,17.8828 141.6582,17.8828 Q142.3638,17.8828 143.0112,18.0322 Q143.6587,18.1816 144.2231,18.4805 L144.2231,21.2031 Q143.5923,20.6221 142.9988,20.3523 Q142.4053,20.0825 141.7744,20.0825 Q140.4297,20.0825 139.7449,21.1492 Q139.0601,22.2158 139.0601,24.3159 Q139.0601,26.4077 139.7449,27.4744 Q140.4297,28.541 141.7744,28.541 Q142.4053,28.541 142.9988,28.2712 Q143.5923,28.0015 144.2231,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="162.25" y="28.5352">OnlineCommander</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="334.5" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="71.5" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="83.5" y="54.6348">_INSTANCE:OnlineCommander</text><line style="stroke: #000000; stroke-width: 1.0;" x1="83.5" x2="247.5" y1="56.6348" y2="56.6348"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="71.5" y="61.9326"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="83.5" y="67.5898">onlineCommanders:List&lt;OnlineCommander&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="71.5" y="74.8877"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="83.5" y="80.5449">pool:CommanderPool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="334.5" y1="86.8652" y2="86.8652"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="71.5" y="95.8428"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="83.5" y="101.5">OnlineCommander()</text><ellipse cx="74.5" cy="111.7979" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="238" x="83.5" y="114.4551">sharedCommanderPool():OnlineCommander</text><line style="stroke: #000000; stroke-width: 1.0;" x1="83.5" x2="321.5" y1="116.4551" y2="116.4551"/><!--class CommanderPool--><rect fill="#FEFECE" filter="url(#f1ulr5k438ol0d)" height="48" id="CommanderPool" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="6" y="185"/><ellipse cx="21" cy="201" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.4731,207.1431 Q22.8921,207.4419 22.2529,207.5913 Q21.6138,207.7407 20.9082,207.7407 Q18.4014,207.7407 17.0815,206.0889 Q15.7617,204.437 15.7617,201.3159 Q15.7617,198.1865 17.0815,196.5347 Q18.4014,194.8828 20.9082,194.8828 Q21.6138,194.8828 22.2612,195.0322 Q22.9087,195.1816 23.4731,195.4805 L23.4731,198.2031 Q22.8423,197.6221 22.2488,197.3523 Q21.6553,197.0825 21.0244,197.0825 Q19.6797,197.0825 18.9949,198.1492 Q18.3101,199.2158 18.3101,201.3159 Q18.3101,203.4077 18.9949,204.4744 Q19.6797,205.541 21.0244,205.541 Q21.6553,205.541 22.2488,205.2712 Q22.8423,205.0015 23.4731,204.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="35" y="205.5352">CommanderPool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="132" y1="217" y2="217"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="132" y1="225" y2="225"/><path d="M168.5,181 L168.5,236.9316 A0,0 0 0 0 168.5,236.9316 L492.5,236.9316 A0,0 0 0 0 492.5,236.9316 L492.5,191 L482.5,181 L308.82,181 L250.8987,121.1955 L300.82,181 L168.5,181 A0,0 0 0 0 168.5,181 " fill="#FBFB77" filter="url(#f1ulr5k438ol0d)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M482.5,181 L482.5,191 L492.5,191 L482.5,181 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="174.5" y="198.5684">使用单例的地方仍有很多，在此主要是为了模拟在线</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="174.5" y="213.8789">列表，通常表现为服务器集群(虽是集群，但是数据是</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="174.5" y="229.1895">同步的，可以理解为只有一份)，为此而采用单例模式</text><!--link OnlineCommander to OnlineCommander--><path d="M348.6517,43.1186 C362.0713,47.5841 370.5,54.7112 370.5,64.5 C370.5,77.1562 356.41,85.363 335.6604,89.1204 " fill="none" id="OnlineCommander-OnlineCommander" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="335.6604,39.8796,340.5145,45.2123,347.3039,42.7827,342.4499,37.45,335.6604,39.8796" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OnlineCommander to CommanderPool--><path d="M139.7664,130.8962 C122.4151,150.1828 104.56,170.0295 91.1905,184.8902 " fill="none" id="OnlineCommander-CommanderPool" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="148.4937,121.1955,141.5071,122.9807,140.4678,130.1165,147.4544,128.3313,148.4937,121.1955" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml singleton-pattern-online-commander 

class OnlineCommander {
  {static} - _INSTANCE:OnlineCommander
  - OnlineCommander()
  - onlineCommanders:List<OnlineCommander>
  - pool:CommanderPool
  + {static} sharedCommanderPool():OnlineCommander
}

class CommanderPool {

}

note bottom of OnlineCommander: 使用单例的地方仍有很多，在此主要是为了模拟在线\n列表，通常表现为服务器集群(虽是集群，但是数据是\n同步的，可以理解为只有一份)，为此而采用单例模式

OnlineCommander o- - OnlineCommander
OnlineCommander o- - CommanderPool

@enduml

PlantUML version 1.2018.12(Sun Oct 21 18:15:15 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>